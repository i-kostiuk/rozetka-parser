# Підключення:

`composer require i-kostiuk/rozetka-parser `

- ##### laravel:
```php
use Rozetka\Rozetka;

$parser = new Rozetka('https://rozetka.com.ua/ua/fujifilm_16650467/p218036047/');
```
- ##### php:
```php
use Rozetka\Rozetka;

require __DIR__ . "/vendor/autoload.php";

$parser = new Rozetka('https://rozetka.com.ua/ua/fujifilm_16650467/p218036047/');
```

# Використання:

При створення екземпляру класу Rozetka, в конструктор передаємо лінк на сторінку. Зараз доступний парсинг сторінок:
- Картка товару
- (Незабаром будуть інші)

```php 
$parser = new Rozetka('https://rozetka.com.ua/ua/fujifilm_16650467/p218036047/');
```

Під капотом у конструкторі робляться деякі попередні перевірки та одразу доступні наступні методи:
- getStatusCode - повертає код відповіді. Успішною вважається 200
```php
$statusCode = $parser->getStatusCode(); // ex: 200
```

- getBody - повертає тіло відповіді. Зазвичай це html, json, xml.
```php
$body = $parser->getBody(); // ex: <!DOCTYPE html><html.......html>
```

- getHeaders - повертає заголовки відповіді
```php
$headers = $parser->getHeaders();
```

- parse - парсить сторінку та повертає результат
```php
$response = $parser->parse();

// Product

/*
Array
(
    [type] => Product
    [data] => Array
        (
            [title] => Керамічна електронагрівальна панель TEPLOCERAMIC TCM-RA 550 Мармур 49103
            [price] => 2649
            [currency] => UAH
            [availability] => http://schema.org/OutOfStock
            [brand] => Teploceramic
            [rating] => Array
                (
                    [@type] => AggregateRating
                    [ratingValue] => 5
                    [ratingCount] => 1
                    [bestRating] => 5
                    [worstRating] => 1
                )

            [description] => &#1050;&#1077;&#1088;&#1072;&#1084;&#1110;&#1095;&#1085;&#1072; &#1077;&#1083;&#1077;&#1082;&#1090;&#1088;&#1086;&#1085;&#1072;&#1075;&#1088;&#1110;&#1074;&#1072;&#1083;&#1100;&#1085;&#1072; &#1087;&#1072;&#1085;&#1077;&#1083;&#1100; TEPLOCERAMIC TCM-RA 550 &#1087;&#1086;&#1090;&#1091;&#1078;&#1085;&#1110;&#1089;&#1090;&#1102; 550 &#1042;&#1090; &#1084;&#1072;&#1108; &#1088;&#1086;&#1079;&#1084;&#1110;&#1088;&#1080; 45&#1093;90&#160;&#1089;&#1084;. &#1055;&#1088;&#1080;&#1089;&#1090;&#1088;&#1110;&#1081; &#1091;&#1082;&#1086;&#1084;&#1087;&#1083;&#1077;&#1082;&#1090;&#1086;&#1074;&#1072;&#1085;&#1086; &#1074;&#1073;&#1091;&#1076;&#1086;&#1074;&#1072;&#1085;&#1080;&#1084; &#1090;&#1077;&#1088;&#1084;&#1086;&#1088;&#1077;&#1075;&#1091;&#1083;&#1103;&#1090;&#1086;&#1088;&#1086;&#1084;, &#1103;&#1082;&#1080;&#1081; &#1076;&#1072;&#1108; &#1079;&#1084;&#1086;&#1075;&#1091; &#1085;&#1072;&#1083;&#1072;&#1096;&#1090;&#1086;&#1074;&#1091;&#1074;&#1072;&#1090;&#1080; &#1088;&#1086;&#1073;&#1086;&#1090;&#1091; &#1082;&#1077;&#1088;&#1072;&#1084;&#1110;&#1095;&#1085;&#1086;&#1111; &#1087;&#1072;&#1085;&#1077;&#1083;&#1110;, &#1079;&#1074;&#1072;&#1078;&#1072;&#1102;&#1095;&#1080; &#1103;&#1082; &#1085;&#1072; &#1076;&#1072;&#1085;&#1110; &#1087;&#1088;&#1086; &#1090;&#1077;&#1084;&#1087;&#1077;&#1088;&#1072;&#1090;&#1091;&#1088;&#1091; &#1087;&#1086;&#1074;&#1110;&#1090;&#1088;&#1103;, &#1090;&#1072;&#1082; &#1110; &#1085;&#1072; &#1090;&#1077;&#1084;&#1087;&#1077;&#1088;&#1072;&#1090;&#1091;&#1088;&#1091; &#1087;&#1086;&#1074;&#1077;&#1088;&#1093;&#1085;&#1110; &#1087;&#1088;&#1080;&#1089;&#1090;&#1088;&#1086;&#1102;, &#1097;&#1086; &#1076;&#1072;&#1108; &#1079;&#1084;&#1086;&#1075;&#1091; &#1097;&#1077; &#1073;&#1110;&#1083;&#1100;&#1096;&#1077; &#1077;&#1082;&#1086;&#1085;&#1086;&#1084;&#1080;&#1090;&#1080; &#1077;&#1083;&#1077;&#1082;&#1090;&#1088;&#1086;&#1077;&#1085;&#1077;&#1088;&#1075;&#1110;&#1102;.
            [image] => Array
                (
                    [0] => https://content2.rozetka.com.ua/goods/images/base_action/11588649.jpg
                    [1] => https://content.rozetka.com.ua/goods/images/base_action/11588797.jpg
                )

            [url] => https://bt.rozetka.com.ua/ua/teploceramic_tcm_ra_550_mramor_49103/p32535103/
            [sku] => 32535103
        )

)

*/

```